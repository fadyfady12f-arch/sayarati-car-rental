import{r as c,j as e,a as y,A as b,m as o,X as v}from"./index-DgpHHzO1.js";import{f as h}from"./helpers-VwjoH2EC.js";import{D as w}from"./download-C8Xsb2gN.js";import{S as B}from"./search-BsOpM-iZ.js";import{E as C}from"./eye-CA0pl0TL.js";import{C as p}from"./check-circle-B9xo06iV.js";import{X as S}from"./x-circle-DaGpmFi-.js";const D=[{id:"BK-2024-001",customer:{name:"أحمد محمد",email:"ahmed@email.com",phone:"+963 912 345 678"},car:{name:"مرسيدس E-Class",image:"/images/cars/mercedes-e-class.jpg"},startDate:"2024-01-20",endDate:"2024-01-25",pickupBranch:"دمشق - المزة",dropoffBranch:"دمشق - المزة",status:"active",paymentStatus:"paid",total:75e4,createdAt:"2024-01-18"},{id:"BK-2024-002",customer:{name:"سارة العلي",email:"sara@email.com",phone:"+963 933 456 789"},car:{name:"بي إم دبليو X5",image:"/images/cars/bmw-x5.jpg"},startDate:"2024-01-22",endDate:"2024-01-24",pickupBranch:"دمشق - المالكي",dropoffBranch:"دمشق - المالكي",status:"pending",paymentStatus:"pending",total:36e4,createdAt:"2024-01-20"},{id:"BK-2024-003",customer:{name:"محمود الحسن",email:"mahmoud@email.com",phone:"+963 944 567 890"},car:{name:"تويوتا كامري",image:"/images/cars/toyota-camry.jpg"},startDate:"2024-01-15",endDate:"2024-01-17",pickupBranch:"حلب",dropoffBranch:"حلب",status:"completed",paymentStatus:"paid",total:16e4,createdAt:"2024-01-13"},{id:"BK-2024-004",customer:{name:"فاطمة خالد",email:"fatima@email.com",phone:"+963 955 678 901"},car:{name:"أودي A6",image:"/images/cars/audi-a6.jpg"},startDate:"2024-01-10",endDate:"2024-01-12",pickupBranch:"اللاذقية",dropoffBranch:"اللاذقية",status:"cancelled",paymentStatus:"refunded",total:28e4,createdAt:"2024-01-08"}],A=[{id:"all",label:"الكل"},{id:"pending",label:"معلق"},{id:"active",label:"نشط"},{id:"completed",label:"مكتمل"},{id:"cancelled",label:"ملغي"}],u=t=>{switch(t){case"active":return e.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded-full text-xs font-medium",children:"نشط"});case"pending":return e.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs font-medium",children:"معلق"});case"completed":return e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-xs font-medium",children:"مكتمل"});case"cancelled":return e.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 rounded-full text-xs font-medium",children:"ملغي"});default:return null}},E=t=>{switch(t){case"paid":return e.jsx("span",{className:"text-green-600 text-xs",children:"مدفوع"});case"pending":return e.jsx("span",{className:"text-yellow-600 text-xs",children:"معلق"});case"refunded":return e.jsx("span",{className:"text-blue-600 text-xs",children:"مسترد"});default:return null}},Q=()=>{const[t,j]=c.useState(D),[l,f]=c.useState(""),[n,g]=c.useState("all"),[a,r]=c.useState(null),x=t.filter(s=>{if(n!=="all"&&s.status!==n)return!1;if(l){const d=l.toLowerCase();return s.id.toLowerCase().includes(d)||s.customer.name.includes(l)||s.car.name.includes(l)}return!0}),i=(s,d)=>{j(N=>N.map(m=>m.id===s?{...m,status:d}:m)),r(null)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"إدارة الحجوزات"}),e.jsxs("p",{className:"text-gray-600",children:["إجمالي ",t.length," حجز"]})]}),e.jsxs("button",{className:"btn-outline flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"}),"تصدير"]})]}),e.jsx("div",{className:"bg-white rounded-xl p-4 shadow-sm",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(B,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"ابحث برقم الحجز أو اسم العميل...",value:l,onChange:s=>f(s.target.value),className:"input-field pr-10"})]}),e.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0",children:A.map(s=>e.jsx("button",{onClick:()=>g(s.id),className:`px-4 py-2 rounded-lg font-medium whitespace-nowrap transition-colors ${n===s.id?"bg-primary-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s.label},s.id))})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-right text-sm text-gray-500 border-b border-gray-100 bg-gray-50",children:[e.jsx("th",{className:"p-4 font-medium",children:"رقم الحجز"}),e.jsx("th",{className:"p-4 font-medium",children:"العميل"}),e.jsx("th",{className:"p-4 font-medium",children:"السيارة"}),e.jsx("th",{className:"p-4 font-medium",children:"التاريخ"}),e.jsx("th",{className:"p-4 font-medium",children:"الفرع"}),e.jsx("th",{className:"p-4 font-medium",children:"الحالة"}),e.jsx("th",{className:"p-4 font-medium",children:"المبلغ"}),e.jsx("th",{className:"p-4 font-medium",children:"إجراءات"})]})}),e.jsx("tbody",{children:x.map(s=>e.jsxs("tr",{className:"border-b border-gray-50 hover:bg-gray-50",children:[e.jsxs("td",{className:"p-4",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:s.id}),e.jsx("p",{className:"text-xs text-gray-500",children:s.createdAt})]}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.customer.name}),e.jsx("p",{className:"text-xs text-gray-500",children:s.customer.phone})]}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-8 rounded overflow-hidden bg-gray-100",children:e.jsx("img",{src:s.car.image,alt:s.car.name,className:"w-full h-full object-cover"})}),e.jsx("span",{className:"text-sm text-gray-700",children:s.car.name})]})}),e.jsxs("td",{className:"p-4",children:[e.jsx("p",{className:"text-sm text-gray-700",children:s.startDate}),e.jsxs("p",{className:"text-xs text-gray-500",children:["إلى ",s.endDate]})]}),e.jsx("td",{className:"p-4 text-sm text-gray-700",children:s.pickupBranch}),e.jsxs("td",{className:"p-4",children:[u(s.status),e.jsx("div",{className:"mt-1",children:E(s.paymentStatus)})]}),e.jsx("td",{className:"p-4 text-sm font-medium text-gray-900",children:h(s.total)}),e.jsx("td",{className:"p-4",children:e.jsx("button",{onClick:()=>r(s),className:"p-2 text-gray-400 hover:text-primary-600 transition-colors",children:e.jsx(C,{className:"w-5 h-5"})})})]},s.id))})]})}),x.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(y,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"لم يتم العثور على حجوزات"})]})]}),e.jsx(b,{children:a&&e.jsxs(e.Fragment,{children:[e.jsx(o.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(null),className:"fixed inset-0 bg-black/50 z-50"}),e.jsx(o.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-full max-w-lg bg-white rounded-2xl z-50 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"تفاصيل الحجز"}),e.jsx("button",{onClick:()=>r(null),className:"p-2 text-gray-500 hover:text-gray-700",children:e.jsx(v,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-xl mb-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"رقم الحجز"}),e.jsx("p",{className:"font-bold text-gray-900",children:a.id})]}),u(a.status)]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"معلومات العميل"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"الاسم:"})," ",a.customer.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"البريد:"})," ",a.customer.email]}),e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-500",children:"الهاتف:"})," ",a.customer.phone]})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"السيارة"}),e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-20 h-14 rounded-lg overflow-hidden",children:e.jsx("img",{src:a.car.image,alt:a.car.name,className:"w-full h-full object-cover"})}),e.jsx("p",{className:"font-medium",children:a.car.name})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"تفاصيل الحجز"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"من"}),e.jsx("p",{className:"font-medium",children:a.startDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"إلى"}),e.jsx("p",{className:"font-medium",children:a.endDate})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"فرع الاستلام"}),e.jsx("p",{className:"font-medium",children:a.pickupBranch})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:"فرع التسليم"}),e.jsx("p",{className:"font-medium",children:a.dropoffBranch})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-primary-50 rounded-xl mb-6",children:[e.jsx("span",{className:"font-semibold text-gray-900",children:"الإجمالي"}),e.jsx("span",{className:"text-xl font-bold text-primary-600",children:h(a.total)})]}),a.status==="pending"&&e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{onClick:()=>i(a.id,"active"),className:"flex-1 btn-primary flex items-center justify-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"تأكيد الحجز"]}),e.jsxs("button",{onClick:()=>i(a.id,"cancelled"),className:"flex-1 btn-outline text-red-600 border-red-200 hover:bg-red-50 flex items-center justify-center gap-2",children:[e.jsx(S,{className:"w-5 h-5"}),"رفض"]})]}),a.status==="active"&&e.jsxs("button",{onClick:()=>i(a.id,"completed"),className:"w-full btn-primary flex items-center justify-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"إتمام الحجز"]})]})})]})})]})};export{Q as default};
